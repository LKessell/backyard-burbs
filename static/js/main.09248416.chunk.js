(this["webpackJsonpbackyard-burbs"]=this["webpackJsonpbackyard-burbs"]||[]).push([[0],{25:function(e,t,c){},26:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c(17),a=c.n(s),i=(c(25),c(20)),r=c(8),o=(c(26),c(4)),d=Object(n.createContext)(),b=c(0),j=function(e){var t=e.birdData,c=Object(n.useContext)(d).theme;return Object(b.jsxs)("nav",{children:[Object(b.jsx)(o.c,{exact:!0,to:"/",className:"nav-link ".concat(c,"-text"),activeClassName:"selected-link",children:"Choose State"}),Object(b.jsx)(o.c,{to:"/birds",className:"nav-link ".concat(c,"-text ").concat(function(){if(!t.length)return"hidden"}()),activeClassName:"selected-link",children:"List of Birds"}),Object(b.jsx)(o.c,{to:"/myBirds",className:"nav-link ".concat(c,"-text"),activeClassName:"selected-link",children:"My Birds"})]})},l=c(2),h=(c(36),c(37),c(19)),u=c.n(h),m=function(e){return Object(b.jsx)(o.b,{to:"/birds",children:Object(b.jsx)(u.a,{onClick:function(t){e.clearBirds(),e.setBirds(t.target.dataset.name)}})})},O=(c(41),c(42),new Headers);O.append("X-eBirdApiToken","cbf0pmjd3n1t");var x={method:"GET",headers:O,redirect:"follow"},f=function(e,t){var c=e.replace(" ","%20");return fetch("https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=50906f9c24e50a02f0d6034a3c6df6d7&per_page=".concat(t,"&format=json&nojsoncallback=1&sort=relevance&text=").concat(c,"%20bird")).then((function(e){return e.json()}))},p=function(e){var t=e.commonName,c=e.scientificName,s=e.id,a=Object(n.useContext)(d).theme,i=Object(n.useState)([]),j=Object(r.a)(i,2),l=j[0],h=j[1],u=Object(n.useState)(""),m=Object(r.a)(u,2),O=m[0],x=m[1];return f(c,1).then((function(e){if(!l.length){var t=(c=e.photos.photo[0])?"https://live.staticflickr.com/"+c.server+"/"+c.id+"_"+c.secret+"_b.jpg":"https://www.salonlfc.com/wp-content/uploads/2018/01/image-not-found-scaled-1150x647.png";h(t)}var c})).catch((function(){return x("Please try again later!")})),Object(b.jsxs)(o.b,{to:"/birds/".concat(s),children:[!!O.length&&Object(b.jsx)("h2",{children:O}),Object(b.jsx)("div",{className:"bird-card",style:{backgroundImage:"url('".concat(l,"')")},children:Object(b.jsx)("h3",{className:"card-text ".concat(a),children:t})})]})},g=function(e){var t=e.birdData.map((function(e){if(!e.comName.includes("hybrid"))return Object(b.jsx)(p,{commonName:e.comName,scientificName:e.sciName,id:e.speciesCode},e.speciesCode)}));return Object(b.jsx)("section",{className:"birds-container",children:t})},v=(c(43),c.p+"static/media/binoculars.2a388869.svg"),N=function(e){var t=e.bird,c=e.addBird,s=Object(n.useState)(t),a=Object(r.a)(s,1)[0],i=Object(n.useState)([]),d=Object(r.a)(i,2),j=d[0],l=d[1];return f(t.sciName,3).then((function(e){if(!j.length){var t=e.photos.photo.map((function(e){return function(e){return"https://live.staticflickr.com/"+e.server+"/"+e.id+"_"+e.secret+"_b.jpg"}(e)}));l(t)}})),Object(b.jsxs)("div",{className:"bird-detail-container",children:[Object(b.jsxs)("div",{className:"bird-detail-images",children:[Object(b.jsx)("img",{src:j[0],alt:"".concat(t.comName," 1"),className:"bird-detail-image"}),Object(b.jsx)("img",{src:j[1],alt:"".concat(t.comName," 2"),className:"bird-detail-image"}),Object(b.jsx)("img",{src:j[2],alt:"".concat(t.comName," 3"),className:"bird-detail-image"})]}),Object(b.jsxs)("div",{className:"bird-details",children:[Object(b.jsxs)("div",{className:"bird-words",children:[Object(b.jsxs)("p",{children:[Object(b.jsx)("strong",{children:"Common Name:"})," ",t.comName]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("strong",{children:"Scientific Name:"})," ",t.sciName]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("strong",{children:"Last seen on:"}),t.obsDt]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("strong",{children:"How many?"})," ",t.howMany," !"]})]}),Object(b.jsx)("div",{className:"binoculars-container",children:Object(b.jsx)(o.b,{to:"/myBirds",children:Object(b.jsxs)("div",{onClick:function(){return c(a)},children:[Object(b.jsx)("img",{className:"binoculars",src:v,alt:"binoculars"}),Object(b.jsx)("p",{className:"binoc-text",children:"I see it!"})]})})})]})]})},k=c.p+"static/media/burb.dc78832d.png",y=(c(44),c.p+"static/media/chirp.d78c82a1.mp3"),C=function(){var e=Object(n.useContext)(d),t=e.theme,c=e.setTheme;return Object(b.jsxs)("label",{className:"switch toggle",children:[Object(b.jsx)("input",{type:"checkbox",onClick:function(){c("goldfinch"===t?"bluejay":"goldfinch"),new Audio(y).play()}}),Object(b.jsx)("span",{className:"slider round"})]})},B=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)([]),o=Object(r.a)(a,2),h=o[0],u=o[1],O=Object(n.useState)("goldfinch"),f=Object(r.a)(O,2),p=f[0],v=f[1],y=Object(n.useState)(""),B=Object(r.a)(y,2),w=B[0],S=B[1],D=function(e){h.includes(e)||u([e].concat(Object(i.a)(h)))},T=!c.length&&!w.length&&Object(b.jsx)("h2",{children:"Loading your birds..."});return Object(b.jsx)(d.Provider,{value:{theme:p,setTheme:v},children:Object(b.jsxs)("div",{className:"App ".concat(p),children:[Object(b.jsxs)("header",{className:"App-header-".concat(p),children:[Object(b.jsxs)("h1",{children:["Backyard Burbs",Object(b.jsx)("img",{src:k,alt:"burb-logo",className:"burb-logo"})]}),Object(b.jsx)(C,{}),Object(b.jsx)(j,{birdData:c})]}),Object(b.jsxs)(l.d,{children:[Object(b.jsx)(l.b,{path:"/birds/:id",render:function(e){var t=e.match,n=c.find((function(e){return e.speciesCode===t.params.id}));return n?Object(b.jsx)(N,{bird:n,addBird:D}):Object(b.jsx)("h2",{children:"That bird doesn't exist!"})}}),Object(b.jsxs)(l.b,{path:"/birds",children:[T,!!w.length&&Object(b.jsx)("h2",{children:w}),Object(b.jsx)(g,{birdData:c})]}),Object(b.jsx)(l.b,{path:"/myBirds",children:Object(b.jsx)(g,{birdData:h})}),Object(b.jsx)(l.b,{exact:!0,path:"/",children:Object(b.jsx)(m,{setBirds:function(e){var t;(t=e,fetch("https://api.ebird.org/v2/data/obs/US-".concat(t,"/recent"),x).then((function(e){return e.json()}))).then((function(e){return s(e)})).catch((function(){return S("We're experiencing server technical difficulties, please check back again later!")}))},clearBirds:function(){s([])}})})]}),Object(b.jsx)(l.a,{to:"/"})]})})},w=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,46)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),a(e),i(e)}))},S=Object(b.jsx)(o.a,{children:Object(b.jsx)(B,{})});a.a.render(S,document.getElementById("root")),w()}},[[45,1,2]]]);
//# sourceMappingURL=main.09248416.chunk.js.map